# 心理医生项目API文档

## 默认返回参数

| 参数名     | 类型     | 说明                |
| ------- | ------ | ----------------- |
| code    | int    | 0代表正常返回,1代表有异常    |
| message | string | 正常为null,有异常就是异常信息 |
| data    | object | 返回的数据             |

## 通用接口

### 登录

| 地址     | 请求方法 |
| ------ | ---- |
| /login | POST |

#### 请求参数

| 参数名      | 类型     | 说明       |
| -------- | ------ | -------- |
| username | string | 用户名      |
| password | string | 密码       |
| userType | int    | 0是患者1是医生 |

#### 返回参数

| 参数名      | 类型     | 说明     |
| -------- | ------ | ------ |
| id       | int    | 用户id   |
| userName | string | 用户名    |
| name     | string | 用户真实姓名 |
| token    | string | jwt令牌  |

#### 样例返回结果

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "userName": "doctor1",
        "name": "张医生",
        "token": "eyJhbGciOiJIUzI1NiJ9.eyJ1c2VySWQiOjEsImV4cCI6MTc1Mzc2ODgwMn0.CQH1aPRo3foyeDRTmndUPrnjMM7-d3hqhbBSwAOHSOc"
    }
}
```

## 医生接口
### 医生注册接口
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/insert | POST |

#### 请求参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| username | string | 用户名 |
| password | string | 密码 |
| name | string | 真实姓名 |
| department | string | 科室 |
| phone | string | 手机号 |
| email | string | 邮箱 |
#### 样例请求
```json
{
    "username":"doctor3",
    "password":"123456",
    "name":"123",
    "department":"智识神工",
    "phone":"18099488938",
    "email":"123@163.com"
}
```
#### 默认返回参数
### 查询患者的所有留言
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/all | GET |
#### 无请求参数
#### 返回参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| id | int | 留言id |
| patientId | int | 患者id |
| doctorId | int | 医生id |
| patientName | string | 患者姓名 |
| doctorName | string | 医生姓名 |
| content | string | 留言内容 |
| appointmentTime | string | 预约时间 |
| contactInfo | string | 联系方式 |
| status | string | 状态 |
| type | string | 类型 |
| createTime | string | 创建时间 |
| updateTime | string | 更新时间 |
| replyContent | string | 回复内容 |
| replyTime | string | 回复时间 |
### 查询患者给自己的所有留言
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/my-messages | GET |
#### 无请求参数
#### 返回参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| id | int | 留言id |
| patientId | int | 患者id |
| doctorId | int | 医生id |
| patientName | string | 患者姓名 |
| doctorName | string | 医生姓名 |
| content | string | 留言内容 |
| appointmentTime | string | 预约时间 |
| contactInfo | string | 联系方式 |
| status | string | 状态 |
| type | string | 类型 |
| createTime | string | 创建时间 |
| updateTime | string | 更新时间 |
| replyContent | string | 回复内容 |
| replyTime | string | 回复时间 |
### 医生回复患者
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/reply | POST |
#### 请求参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| messageId | int | 留言id |
| replyContent | string | 回复内容 |
#### 返回参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| id | int | 留言id |
| patientId | int | 患者id |
| doctorId | int | 医生id |
| patientName | string | 患者姓名 |
| doctorName | string | 医生姓名 |
| content | string | 留言内容 |
| appointmentTime | string | 预约时间 |
| contactInfo | string | 联系方式 |
| status | string | 状态 |
| type | string | 类型 |
| createTime | string | 创建时间 |
| updateTime | string | 更新时间 |
| replyContent | string | 回复内容 |
| replyTime | string | 回复时间 |
### 设置留言状态
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/status | PUT |
#### 请求参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| messageId | int | 留言id |
| status | string | 状态  待定、批准、拒绝、完成 |
#### 默认返回参数
### 根据留言ID查询留言详细信息
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/detail | GET |
#### 请求参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| messageId | int | 留言id |
#### 返回参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| id | int | 留言id |
| patientId | int | 患者id |
| doctorId | int | 医生id |
| patientName | string | 患者姓名 |
| doctorName | string | 医生姓名 |
| content | string | 留言内容 |
| appointmentTime | string | 预约时间 |
| contactInfo | string | 联系方式 |
| status | string | 状态 |
| type | string | 类型 |
| createTime | string | 创建时间 |
| updateTime | string | 更新时间 |
| replyContent | string | 回复内容 |
| replyTime | string | 回复时间 |
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "patientId": 1,
        "doctorId": 1,
        "patientName": "王患者",
        "doctorName": "牢郭",
        "content": "您好，我最近总是咳嗽，想预约您的门诊进行检查，麻烦您看一下这个时间是否方便。",
        "appointmentTime": "2025-08-15 14:30",
        "contactInfo": "13800138000",
        "status": "完成",
        "type": "预约",
        "createTime": "2025-08-04 16:15:02",
        "updateTime": "2025-08-04 17:08:01",
        "replyContent": "太好了,你有救了",
        "replyTime": "2025-08-04 17:03:36"
    }
}
```
### 查询该医生的留言数
| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/message/get/num | GET |
#### 无请求参数
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": 2
}
```
### 获取医生自我介绍,优点
| 地址                  | 请求方法 |
| ------------------- | ---- |
| /doctor/info/get | GET  |
#### 无请求参数
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "doctorId": 1,
        "introduction": "这是个大佬",
        "advantage": "很会教导小孩子"
    }
}
```
### 插入/更新医生的自我介绍和优点
| 地址                  | 请求方法 |
| ------------------- | ---- |
| /doctor/info/insert | POST  |
#### 请求参数
| 参数名 | 类型 | 说明 |
| --- | --- | --- |
| doctorId | int | 医生id |
| introduction | string | 自我介绍 |
| advantage | string | 优点 |
#### 默认返回参数
### 根据医生id查询医生姓名和职称
| 地址                  | 请求方法 |
| ------------------- | ---- |
| /doctor/upload/info | GET  |

#### 请求参数

| 参数名 | 类型  | 是否必填 | 描述   |
| --- | --- | ---- | ---- |
| id  | int | 是    | 医生id |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "name": "牢郭",
        "title": "主任医师"
    }
}
```

### 查询试卷信息

| 地址                | 请求方法 |
| ----------------- | ---- |
| /doctor/get/paper | GET  |

#### 无请求参数

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 1,
            "paperName": "SCL-90症状自评量表",
            "description": "广泛用于评估个体近期（1周内）的心理健康状况，涵盖躯体化、强迫、抑郁、焦虑等10个维度，适用于心理咨询、精神科初筛场景。",
            "applicableGroup": "16岁以上成人",
            "totalQuestions": 90,
            "totalScoreRule": "各题原始分（1-5分）相加，反向计分题已预先转换（调整后分值=6-原始分），总分范围90-450分。",
            "createTime": "2025-07-20 09:15:30",
            "updateTime": "2025-07-20 10:20:15"
        },
        {
            "id": 3,
            "paperName": "中小学生心理健康量表（MHT）",
            "description": "说明：这个测验是调查你的心情和感受的，不是测验智力和学习能力，与学习成绩无关，答案也没有好坏之分。①请按照你平常所想的如实回答。②每一问题都要回答，但只能选择一个答案，难以决定时，请选与你最接近的答案。③有不明白的地方可以举手问老师。④回答时间没有限制，但不要过分考虑，请写出你最初想到的答案。本测验每一问题都只有“是”和“否”两种可供选择的答案，请你在相应的答案上画上对钩。",
            "applicableGroup": "中小学生",
            "totalQuestions": 100,
            "totalScoreRule": "(一)学习焦虑\n由第1、2、3、4、5、6、7、8、9、10、11、12、13、14、15项组成。高分(8分以上)：对考试怀有恐惧心理，无法安心学习，十分关心考试分数。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：学习焦虑低，学习不会受到困扰，能正确对待考试成绩。\n(二)对人焦虑\n由第16、17、18、19、20、21、22、23、24、25项组成。高分(8分以上)：过分注重自己的形象，害怕与人交往，退缩。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：热情，大方，容易结交朋友。\n(三)孤独倾向\n由第26、27、28、29、30、31、32、33、34、35项组成。高分(8分以上)：孤独、抑郁，不善与人交往，自我封闭。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：爱好社交，喜欢寻求刺激，喜欢与他人在一起。\n(四)自责倾向\n由第36、37、38、39、40、41、42、43、44、45项组成。高分(8分以上)：自卑，常怀疑自己的能力，常将失败、过失归咎于自己。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：自信，能正确看待失败。\n(五)过敏倾向\n由第46、47、48、49、50、51、52、53、54、55项组成。高分(8分以上)：过于敏感，容易为一些小事而烦恼。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：敏感性较低，能较好地处理日常事物。\n(六)身体症状\n由第56、57、58、59、60、61、62、63、64、65、66、67、68、69、70项组成。高分(8分以上)：在极度焦虑的时候，会出现呕吐失眠、小便失禁等明显症状。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有身体异常表现。\n(七)恐怖倾向\n由第71、72、73、74、75、76、77、78、79、80项组成。高分(8分以上)：对某些日常事物，如黑暗等，有较严重的恐惧感。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有恐怖感。\n(八)冲动倾向\n由第81、83、85、87、89、91、93、95、97、99项组成。高分(8分以上)：十分冲动，自制力差。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有冲动。",
            "createTime": "2025-07-28 15:43:51",
            "updateTime": "2025-07-28 15:43:51"
        },
        {
            "id": 4,
            "paperName": "注意缺陷多动障碍评定量表",
            "description": "评估评分标准说明：本次评估采用四级评分制，针对各条目按症状严重程度赋值：无相关症状为0分，轻微症状（有一点）为1分，明显症状（不少）为2分，严重症状（很多）为3分。\n\n因子分数计算方法：评估包含三个核心因子，各因子分数计算方式为：将该因子所包含的全部条目得分相加，得到总得分后，再除以该因子的条目数量，最终结果即为该因子的平均分。\n\n分数对应的症状程度：各因子的平均分对应不同的症状程度标准：\n- 平均分在0-1分之间，属于正常范围；\n- 平均分在1.1-1.5分之间，属于边缘状态；\n- 平均分在1.6-2分之间，属于中度症状；\n- 平均分在2分以上，属于严重症状。\n\n各因子包含条目范围：\n- 注意力因子：包含评估中的第1至第9题；\n- 多动/冲动因子：包含评估中的第10至第18题；\n- 对立违抗因子：包含评估中的第19至第26题。",
            "applicableGroup": "中小学生",
            "totalQuestions": 26,
            "totalScoreRule": "评估评分标准说明：本次评估采用四级评分制，针对各条目按症状严重程度赋值：无相关症状为0分，轻微症状（有一点）为1分，明显症状（不少）为2分，严重症状（很多）为3分。\n\n因子分数计算方法：评估包含三个核心因子，各因子分数计算方式为：将该因子所包含的全部条目得分相加，得到总得分后，再除以该因子的条目数量，最终结果即为该因子的平均分。\n\n分数对应的症状程度：各因子的平均分对应不同的症状程度标准：\n- 平均分在0-1分之间，属于正常范围；\n- 平均分在1.1-1.5分之间，属于边缘状态；\n- 平均分在1.6-2分之间，属于中度症状；\n- 平均分在2分以上，属于严重症状。\n\n各因子包含条目范围：\n- 注意力因子：包含评估中的第1至第9题；\n- 多动/冲动因子：包含评估中的第10至第18题；\n- 对立违抗因子：包含评估中的第19至第26题。",
            "createTime": "2025-07-29 09:51:58",
            "updateTime": "2025-07-29 09:51:58"
        },
        {
            "id": 5,
            "paperName": "抑郁 - 焦虑 - 压力量表 (中文版)/DASS-21",
            "description": "暂无",
            "applicableGroup": "中小学生",
            "totalQuestions": 21,
            "totalScoreRule": "计分标准：1）抑郁因子：针对编号为3、5、10、13、16、17、21的问题，将各题分数相加后乘以2，即为抑郁因子得分。2）焦虑因子：针对编号为2、4、7、9、15、19、20的问题，将各题分数相加后乘以2，即为焦虑因子得分。3）压力因子：针对编号为1、6、8、11、12、14、18的问题，将各题分数相加后乘以2，即为压力因子得分。评分等级：抑郁因子：正常（0-9分）、轻度（10-13分）、中度（14-20分）、重度（21-27分）、极重（28分及以上）；焦虑因子：正常（0-7分）、轻度（8-9分）、中度（10-14分）、重度（15-19分）、极重（20分及以上）；压力因子：正常（0-14分）、轻度（15-18分）、中度（19-25分）、重度（26-33分）、极重（37分及以上）。",
            "createTime": "2025-07-29 10:15:31",
            "updateTime": "2025-07-29 10:15:31"
        },
        {
            "id": 6,
            "paperName": "UCLA孤独感量表简化版(ULS-8)(UCLA Loneliness Scale 8)",
            "description": "下面是人们有时出现的一些感受。对每项描述，请指出你具有那种感觉的频度。过去一周内感受 从未有此感觉 很少有此感觉 有时有此感觉 一直有此感觉 ",
            "applicableGroup": "中小学生",
            "totalQuestions": 8,
            "totalScoreRule": "评分说明：全量表共有8个条目，每个条目有4级频度评分：一直有此感觉（4分），有时有此感觉（3分），很少有此感觉（2分），从未有此感觉（1分）。其中第3、6题为反序记分。孤独感总分为8个条目分数之和，量表总分为8~32分，总分越高表示孤独感越强。",
            "createTime": "2025-07-29 10:32:27",
            "updateTime": "2025-07-29 10:32:27"
        },
        {
            "id": 7,
            "paperName": "社会适应能力诊断量表(青少年)",
            "description": "暂无",
            "applicableGroup": "青少年",
            "totalQuestions": 20,
            "totalScoreRule": "评分方法：1、计分情况：单号题计分标准为A：-2分，B：0分，C：2分；双号题计分标准为A：2分，B：0分，C：-2分。2、结果显示：（1）计算个人得分后，根据得分对照了解自身社会适应能力情况。（2）具体标准如下：35~40分：社会适应能力很强，能很快地适应新的学习、生活环境，与人交往轻松、大方，给人的印象极好，无论进入什么样的环境，都能应付自如，左右逢源。29~34分：社会适应能力良好，能较好地适应周围的环境，与人关系融洽，处事能力较强。17~28分：社会适应能力一般，当进入一个新环境，经过一段时间的努力，基本上能适应。6~16分：社会适应能力较差，依赖于较好的学习、生活环境，一旦遇到困难则易怨天尤人，甚至消沉。5分以下：社会适应能力很差，在各种新环境中，即使经过一段相当长时间的努力，也不一定能够适应，常常困惑到与周围事物格格不入而十分苦恼；在与他人的交往中，总是显得拘谨、羞怯、手足无措。",
            "createTime": "2025-07-29 10:47:59",
            "updateTime": "2025-07-29 10:47:59"
        },
        {
            "id": 8,
            "paperName": "青少年生活事件量表(ASLEC)",
            "description": "过去12个月内，你和你的家庭是否发生过下列事件？请仔细阅读下列每一个项目，如果发生过，根据事件给你造成的苦恼程度选择“没有 轻度 中度 重度 极重”。",
            "applicableGroup": "青少年",
            "totalQuestions": 27,
            "totalScoreRule": "计分标准：各条目按苦恼程度计分，“没有”计1分，“轻度”“中度”“重度”“极重”均计2分。总分判定：总分大于等于59分判定为超过正常范围，即异常。分因子正常分值范围：1. 人际关系因子：包含条目1、2、4、15、25，正常分值范围为6-10分；2. 学习压力因子：包含条目3、9、16、18、22，正常分值范围为7-12分；3. 受惩罚因子：包含条目17、18、19、20、21、23、24，正常分值范围为7-11分；4. 丧失因子：包含条目12、13、14，正常分值范围为3-6分；5. 健康适应因子：包含条目5、8、11、27，正常分值范围为4-7分；6. 其他因子：包含条目6、7、23、24，正常分值范围为4-6分。",
            "createTime": "2025-07-29 12:02:07",
            "updateTime": "2025-07-29 12:02:07"
        },
        {
            "id": 9,
            "paperName": "多维状态无聊量表",
            "description": "下面列出的是一些用来描述你自己和你的生活的一些陈述,请阅读每一个陈述,把意思弄明白,然后根据您最近一周的实际情况,在适当的数字上划勾(√)代表您对该陈述的同意程度:1=完全不同意;2=不同意;3=有点不同意;4=不确定;5=有点同意;6=同意;7=完全同意。回答没有对错之分,不要对任何一个陈述花太多的时间去考虑,但所给的回答应该是你现在或过去一周内最恰当的感觉。",
            "applicableGroup": "青少年",
            "totalQuestions": 24,
            "totalScoreRule": "计分规则：该量表无反向计分条目，总分及各因子得分均为对应条目得分的加和。总分反映个体当前无聊体验的程度，总分越高，表明当前无聊状态越明显。各因子及包含条目如下：1. 注意缺乏因子：包含条目2、13、17、18、20；2. 时间知觉因子：包含条目1、4、9、15、22；3. 低唤醒因子：包含条目4、5、8、16；4. 高唤醒因子：包含条目3、10、11、23；5. 缺乏投入因子：包含条目7、16、19、21、24。",
            "createTime": "2025-07-29 12:10:47",
            "updateTime": "2025-07-29 12:10:47"
        }
    ]
}
```

### 根据试卷ID查询题目ID

| 地址                         | 请求方法 |
| -------------------------- | ---- |
| /doctor/get/paper/question | GET  |

#### 请求参数

| 参数名     | 类型  | 是否必填 | 描述   |
| ------- | --- | ---- | ---- |
| paperId | int | 是    | 试卷ID |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        201,
        202,
        203,
        204,
        205,
        206,
        207,
        208,
        209,
        210,
        211,
        212,
        213,
        214,
        215,
        216,
        217,
        218,
        219,
        220,
        221,
        222,
        223,
        224,
        225,
        226
    ]
}
```

### 根据题目ID查询题目内容

| 地址                       | 请求方法 |
| ------------------------ | ---- |
| doctor/get/question/info | GET  |

#### 请求参数

| 参数名        | 类型  | 是否必填 | 描述   |
| ---------- | --- | ---- | ---- |
| questionId | int | 是    | 题目ID |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "questionContent": "你晚上要睡觉时，是否总想着明天的功课?",
        "answerType": "是或否",
        "questionPaperId": 3,
        "createTime": "2025-07-28 16:03:35",
        "updateTime": "2025-07-28 16:03:35"
    }
}
```

### 根据试卷ID一键查询所有题目

| 地址                      | 请求方法 |
| ----------------------- | ---- |
| doctor/get/all/question | GET  |

#### 请求参数

| 参数名     | 类型  | 是否必填 | 描述   |
| ------- | --- | ---- | ---- |
| paperId | int | 是    | 试卷ID |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 1,
            "questionContent": "你晚上要睡觉的时候，是否总想着明天的功课?",
            "answerType": "是或否",
            "questionPaperId": 3,
            "createTime": "2025-07-28 16:03:35",
            "updateTime": "2025-07-28 16:03:35"
        },...
    ]
}
```

### 查询患者信息

| 地址                       | 请求方法 |
| ------------------------ | ---- |
| /doctor/get/patient/info | GET  |

#### 无请求参数

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 1,
            "username": "patient1",
            "name": "王患者",
            "gender": "男",
            "age": 30,
            "phone": "13800138003",
            "email": "patient1@example.com",
            "medicalHistory": "无重大病史",
            "status": 0,
            "updateTime": "2025-07-30 17:47:27"
        },
        {
            "id": 2,
            "username": "patient2",
            "name": "赵患者",
            "gender": "女",
            "age": 25,
            "phone": "13800138004",
            "email": "patient2@example.com",
            "medicalHistory": "轻度抑郁症",
            "status": 0,
            "updateTime": "2025-07-30 17:47:27"
        }
    ]
}
```

### 查询医生详细信息

| 地址                      | 请求方法 |
| ----------------------- | ---- |
| /doctor/get/doctor/info | GET  |

#### 无请求参数

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "username": "doctor1",
        "name": "郭宏成",
        "title": "医师",
        "department": "心理科",
        "phone": "13800138001",
        "email": "doctor1@example.com",
        "status": 0
    }
}
```

### 更新医生信息

| 地址                  | 请求方法 |
| ------------------- | ---- |
| /doctor/update/info | POST |

#### 样例请求体

```json
{
    "id": 1,
        "username": "doctor1",
        "name": "郭宏成66",
        "title": "医师",
        "department": "心理科",
        "phone": "13800138001",
        "email": "doctor1@example.com",
        "status": 0
}
```

#### 默认返回结果

### 上传文件(新)

| 地址                 | 请求方法 |
| ------------------ | ---- |
| /doctor/doc/upload | POST |

#### 请求参数

| 字段名称     | 类型   | 说明   |
| -------- | ---- | ---- |
| file     | file | 文件   |
| category | text | 文件类型 |

说明:使用不同的category可对文件进行分类,一般我们的项目输入psy-doc就可以

#### 默认返回参数

### 查询所有文件

| 地址               | 请求方法 |
| ---------------- | ---- |
| /doctor/doc/list | GET  |

#### 无请求参数

#### 返回参数

| 字段             | 类型     | 说明                              |
| -------------- | ------ | ------------------------------- |
| id             | int    | 文件的ID,可用于后面查询文件详情               |
| fileName       | string | 文件的名称                           |
| doctorId       | int    | 上传文件的医生ID                       |
| fileSize       | int    | 文件的大小（单位：字节）                    |
| fileType       | string | 文件的格式类型（如.pdf表示PDF格式）           |
| fileStatus     | string | 文件当前的状态（如active表示激活状态）          |
| fileCreateTime | string | 文件的创建时间（格式：YYYY-MM-DD HH:MM:SS） |
| category       | string | 文件所属的分类（如psyText表示心理文本类）        |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 3,
            "fileName": "抑郁症治疗资料和方案.pdf",
            "doctorId": 1,
            "fileSize": 170309,
            "fileType": ".pdf",
            "fileStatus": "active",
            "fileCreateTime": "2025-07-30 16:20:13",
            "category": "psyText"
        }
    ]
}
```

### 根据文件ID查询文件详情

| 地址                   | 请求方法 |
| -------------------- | ---- |
| /doctor/doc/get/info | GET  |

#### 请求参数

| 字段名称   | 类型  | 说明   |
| ------ | --- | ---- |
| fileId | int | 文件ID |

#### 返回参数

| 字段             | 类型     | 说明                              |
| -------------- | ------ | ------------------------------- |
| id             | int    | 文件的唯一标识ID                       |
| fileName       | string | 文件的名称                           |
| doctorId       | int    | 上传文件的医生ID                       |
| fileId         | string | 文件的唯一标识（通常用于存储或检索）              |
| filePath       | string | 文件的存储路径（URL地址）                  |
| fileSize       | int    | 文件的大小（单位：字节）                    |
| fileType       | string | 文件的格式类型（如.pdf表示PDF格式）           |
| fileStatus     | string | 文件当前的状态（如active表示激活状态）          |
| fileCreateTime | string | 文件的创建时间（格式：YYYY-MM-DD HH:MM:SS） |
| category       | string | 文件所属的分类（如psyText表示心理文本类）        |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 2,
        "fileName": "抑郁症治疗资料和方案.pdf",
        "doctorId": 1,
        "fileId": "3c6baf843ac44034b0a9f4dcf7f5014b",
        "filePath": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/a12002d3-72ca-49e5-af3d-e5d1e497d549.pdf",
        "fileSize": 170309,
        "fileType": ".pdf",
        "fileStatus": "active",
        "fileCreateTime": "2025-07-30 15:47:37",
        "category": "psyText"
    }
}
```

#### 注:这个查询回来的URL可以下载文件

### 删除文件

| 地址                      | 请求方法   |
| ----------------------- | ------ |
| /doctor/doc/delete/file | DELETE |

#### 请求参数

| 字段名称 | 类型  | 说明   |
| ---- | --- | ---- |
| id   | int | 文件ID |

#### 默认返回参数

### 创建试卷

| 地址                   | 请求方法 |
| -------------------- | ---- |
| /doctor/insert/paper | POST |

#### 请求参数

| 参数名             | 类型     | 说明            |
| --------------- | ------ | ------------- |
| paperName       | string | 试卷名           |
| resultType      | int    | 作答结果类型(先别管这个) |
| applicableGroup | string | 适用人群(例如青少年)   |
| description     | string | 试卷描述          |
| totalQuestions  | int    | 试卷总题数         |
| totalScoreRule  | string | 计算得分的规则       |

#### 默认返回参数

### 插入题目

| 地址                      | 请求方法 |
| ----------------------- | ---- |
| /doctor/insert/question | POST |

#### 请求参数

| 字段名称            | 类型     | 说明                                                        |
| --------------- | ------ | --------------------------------------------------------- |
| questionContent | string | 问题的具体内容描述，即量表中的具体陈述语句，用于让受访者理解问题含义。                       |
| questionPaperId | int    | 问题所属问卷的唯一标识ID，用于关联问题与对应的量表（此处统一为9，对应“多维状态无聊量表”）。          |
| answerType      | string | 问题的回答选项及计分规则说明，明确受访者可选择的同意程度及对应的分值（1-7分，从“完全不同意”到“完全同意”）。 |

#### 样例请求

```json
[
    {
        "questionContent": "时间过得比平时慢。",
        "questionPaperId": 9,
        "answerType": "1=完全不同意;2=不同意;3=有点不同意;4=不确定;5=有点同意;6=同意;7=完全同意"
    },
    {
        "questionContent": "我容易分心。",
        "questionPaperId": 9,
        "answerType": "1=完全不同意;2=不同意;3=有点不同意;4=不确定;5=有点同意;6=同意;7=完全同意"
    }...
]
```

#### 默认返回参数

## 患者接口

### 查看所有问卷的大致信息

| 地址                  | 请求方法 |
| ------------------- | ---- |
| /patient/get/papers | GET  |

#### 无请求参数

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 1,
            "paperName": "SCL-90症状自评量表",
            "description": "广泛用于评估个体近期（1周内）的心理健康状况，涵盖躯体化、强迫、抑郁、焦虑等10个维度，适用于心理咨询、精神科初筛场景。",
            "applicableGroup": "16岁以上成人",
            "totalQuestions": 90
        },
        {
            "id": 3,
            "paperName": "中小学生心理健康量表（MHT）",
            "description": "说明：这个测验是调查你的心情和感受的，不是测验智力和学习能力，与学习成绩无关，答案也没有好坏之分。①请按照你平常所想的如实回答。②每一问题都要回答，但只能选择一个答案，难以决定时，请选与你最接近的答案。③有不明白的地方可以举手问老师。④回答时间没有限制，但不要过分考虑，请写出你最初想到的答案。本测验每一问题都只有“是”和“否”两种可供选择的答案，请你在相应的答案上画上对钩。",
            "applicableGroup": "中小学生",
            "totalQuestions": 100
        },
        {
            "id": 4,
            "paperName": "注意缺陷多动障碍评定量表",
            "description": "评估评分标准说明：本次评估采用四级评分制，针对各条目按症状严重程度赋值：无相关症状为0分，轻微症状（有一点）为1分，明显症状（不少）为2分，严重症状（很多）为3分。\n\n因子分数计算方法：评估包含三个核心因子，各因子分数计算方式为：将该因子所包含的全部条目得分相加，得到总得分后，再除以该因子的条目数量，最终结果即为该因子的平均分。\n\n分数对应的症状程度：各因子的平均分对应不同的症状程度标准：\n- 平均分在0-1分之间，属于正常范围；\n- 平均分在1.1-1.5分之间，属于边缘状态；\n- 平均分在1.6-2分之间，属于中度症状；\n- 平均分在2分以上，属于严重症状。\n\n各因子包含条目范围：\n- 注意力因子：包含评估中的第1至第9题；\n- 多动/冲动因子：包含评估中的第10至第18题；\n- 对立违抗因子：包含评估中的第19至第26题。",
            "applicableGroup": "中小学生",
            "totalQuestions": 26
        },
        {
            "id": 5,
            "paperName": "抑郁 - 焦虑 - 压力量表 (中文版)/DASS-21",
            "description": "暂无",
            "applicableGroup": "中小学生",
            "totalQuestions": 21
        },
        {
            "id": 6,
            "paperName": "UCLA孤独感量表简化版(ULS-8)(UCLA Loneliness Scale 8)",
            "description": "下面是人们有时出现的一些感受。对每项描述，请指出你具有那种感觉的频度。过去一周内感受 从未有此感觉 很少有此感觉 有时有此感觉 一直有此感觉 ",
            "applicableGroup": "中小学生",
            "totalQuestions": 8
        },
        {
            "id": 7,
            "paperName": "社会适应能力诊断量表(青少年)",
            "description": "暂无",
            "applicableGroup": "青少年",
            "totalQuestions": 20
        },
        {
            "id": 8,
            "paperName": "青少年生活事件量表(ASLEC)",
            "description": "过去12个月内，你和你的家庭是否发生过下列事件？请仔细阅读下列每一个项目，如果发生过，根据事件给你造成的苦恼程度选择“没有 轻度 中度 重度 极重”。",
            "applicableGroup": "青少年",
            "totalQuestions": 27
        },
        {
            "id": 9,
            "paperName": "多维状态无聊量表",
            "description": "下面列出的是一些用来描述你自己和你的生活的一些陈述,请阅读每一个陈述,把意思弄明白,然后根据您最近一周的实际情况,在适当的数字上划勾(√)代表您对该陈述的同意程度:1=完全不同意;2=不同意;3=有点不同意;4=不确定;5=有点同意;6=同意;7=完全同意。回答没有对错之分,不要对任何一个陈述花太多的时间去考虑,但所给的回答应该是你现在或过去一周内最恰当的感觉。",
            "applicableGroup": "青少年",
            "totalQuestions": 24
        }
    ]
}
```

#### 返回参数

| 字段名称            | 类型      | 说明                                    |
| --------------- | ------- | ------------------------------------- |
| id              | Integer | 量表的唯一标识ID，试卷的id                       |
| paperName       | String  | 量表的名称，标识量表的具体类型（如“SCL-90症状自评量表”）      |
| description     | String  | 量表的详细描述，包括用途、作答要求、适用场景等说明信息           |
| applicableGroup | String  | 量表的适用人群范围，明确该量表针对的群体（如“16岁以上成人”“青少年”） |
| totalQuestions  | Integer | 量表包含的题目总数量，标识该量表的题量规模                 |

### 根据试卷的id查询试卷具体信息

| 地址                      | 请求方法 |
| ----------------------- | ---- |
| /patient/get/paper/info | GET  |

#### 请求参数

| 字段名称    | 类型  | 说明   |
| ------- | --- | ---- |
| paperId | int | 试卷id |

#### 返回参数

| 字段名称            | 类型      | 说明                                                       |
| --------------- | ------- | -------------------------------------------------------- |
| id              | Integer | 试卷id                                                     |
| paperName       | String  | 量表的名称，标识量表的具体类型（如“中小学生心理健康量表（MHT）”）                      |
| resultType      | Integer | 量表结果类型标识，用于区分结果的呈现或计算类型（此处值为1）                           |
| applicableGroup | String  | 量表的适用人群范围，明确该量表针对的群体（此处为“中小学生”）                          |
| description     | String  | 量表的详细描述，包括作答要求、测验说明等信息                                   |
| totalQuestions  | Integer | 量表包含的题目总数量，标识该量表的题量规模（此处为100题）                           |
| totalScoreRule  | String  | 量表的计分规则说明                                                |
| createTime      | String  | 量表的创建时间，格式为“yyyy-MM-dd HH:mm:ss”（此处为2025-07-28 15:43:51） |
| updateTime      | String  | 量表的最后更新时间，格式为“yyyy-MM-dd HH:mm:ss”（此处与创建时间一致，说明未更新过）     |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 3,
        "paperName": "中小学生心理健康量表（MHT）",
        "resultType": 1,
        "applicableGroup": "中小学生",
        "description": "说明：这个测验是调查你的心情和感受的，不是测验智力和学习能力，与学习成绩无关，答案也没有好坏之分。①请按照你平常所想的如实回答。②每一问题都要回答，但只能选择一个答案，难以决定时，请选与你最接近的答案。③有不明白的地方可以举手问老师。④回答时间没有限制，但不要过分考虑，请写出你最初想到的答案。本测验每一问题都只有“是”和“否”两种可供选择的答案，请你在相应的答案上画上对钩。",
        "totalQuestions": 100,
        "totalScoreRule": "(一)学习焦虑\n由第1、2、3、4、5、6、7、8、9、10、11、12、13、14、15项组成。高分(8分以上)：对考试怀有恐惧心理，无法安心学习，十分关心考试分数。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：学习焦虑低，学习不会受到困扰，能正确对待考试成绩。\n(二)对人焦虑\n由第16、17、18、19、20、21、22、23、24、25项组成。高分(8分以上)：过分注重自己的形象，害怕与人交往，退缩。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：热情，大方，容易结交朋友。\n(三)孤独倾向\n由第26、27、28、29、30、31、32、33、34、35项组成。高分(8分以上)：孤独、抑郁，不善与人交往，自我封闭。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：爱好社交，喜欢寻求刺激，喜欢与他人在一起。\n(四)自责倾向\n由第36、37、38、39、40、41、42、43、44、45项组成。高分(8分以上)：自卑，常怀疑自己的能力，常将失败、过失归咎于自己。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：自信，能正确看待失败。\n(五)过敏倾向\n由第46、47、48、49、50、51、52、53、54、55项组成。高分(8分以上)：过于敏感，容易为一些小事而烦恼。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：敏感性较低，能较好地处理日常事物。\n(六)身体症状\n由第56、57、58、59、60、61、62、63、64、65、66、67、68、69、70项组成。高分(8分以上)：在极度焦虑的时候，会出现呕吐失眠、小便失禁等明显症状。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有身体异常表现。\n(七)恐怖倾向\n由第71、72、73、74、75、76、77、78、79、80项组成。高分(8分以上)：对某些日常事物，如黑暗等，有较严重的恐惧感。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有恐怖感。\n(八)冲动倾向\n由第81、83、85、87、89、91、93、95、97、99项组成。高分(8分以上)：十分冲动，自制力差。这类被试必须接受为他制定的有针对性的特别指导计划。低分(3分以下)：基本没有冲动。",
        "createTime": "2025-07-28 15:43:51",
        "updateTime": "2025-07-28 15:43:51"
    }
}
```

### 根据试卷id查询试卷所有题目id

| 地址                 | 请求方法 |
| ------------------ | ---- |
| /patient/get/paper | GET  |

#### 请求参数

| 字段名称    | 类型  | 说明   |
| ------- | --- | ---- |
| paperId | int | 试卷id |

#### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": [
        201,
        202,
        203,
        204,
        205,
        206,
        207,
        208,
        209,
        210,
        211,
        212,
        213,
        214,
        215,
        216,
        217,
        218,
        219,
        220,
        221,
        222,
        223,
        224,
        225,
        226
    ]
}
```

#### 返回参数

| 字段名称    | 类型            | 说明                                         |
| ------- | ------------- | ------------------------------------------ |
| code    | Integer       | 响应状态码，用于标识请求处理结果（此处值为0，通常表示请求成功）           |
| message | String        | 响应消息提示，用于返回处理结果的文字说明，此处为null表示无额外消息        |
| data    | List<Integer> | 响应核心数据数组，包含多个整数元素（此处为201至226的连续整数）,题目的id集合 |

### 根据题目id查询题目具体内容

| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/get/question | GET  |

#### 请求参数

| 字段名称       | 类型  | 说明   |
| ---------- | --- | ---- |
| questionId | int | 题目id |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "questionContent": "你晚上要睡觉时，是否总想着明天的功课?",
        "answerType": "是或否",
        "questionPaperId": 3,
        "createTime": "2025-07-28 16:03:35",
        "updateTime": "2025-07-28 16:03:35"
    }
}
```

#### 返回参数

| 字段名称            | 类型      | 说明                                                       |
| --------------- | ------- | -------------------------------------------------------- |
| id              | Integer | 问题的唯一标识ID，用于区分不同问题（此处值为1）                                |
| questionContent | String  | 问题的具体内容描述，即量表中的实际问题语句（如“你晚上要睡觉时，是否总想着明天的功课?”）            |
| answerType      | String  | 问题的回答类型说明，明确受访者可选择的回答选项（此处为“是或否”）                        |
| questionPaperId | Integer | 问题所属问卷的唯一标识ID，用于关联问题与对应的量表（此处值为3，对应“中小学生心理健康量表（MHT）”）    |
| createTime      | String  | 问题的创建时间，格式为“yyyy-MM-dd HH:mm:ss”（此处为2025-07-28 16:03:35） |
| updateTime      | String  | 问题的最后更新时间，格式为“yyyy-MM-dd HH:mm:ss”（此处与创建时间一致，说明未更新过）     |

### 提交问卷

| 地址                   | 请求方法 |
| -------------------- | ---- |
| /patient/paperSubmit | POST |

#### 样例请求

```json
{
  "paperId": 9,
  "answers": [
    {"1": 3}, {"2": 4}, {"3": 2}, {"4": 5}, {"5": 3},
    {"6": 4}, {"7": 3}, {"8": 2}, {"9": 4}, {"10": 3},
    {"11": 2}, {"12": 4}, {"13": 5}, {"14": 3}, {"15": 4},
    {"16": 3}, {"17": 4}, {"18": 3}, {"19": 2}, {"20": 4},
    {"21": 3}, {"22": 5}, {"23": 2}, {"24": 3}
  ]
}
```

#### 请求参数

| 字段名称    | 类型                         | 说明                                                                                                                                                                                           |
| ------- | -------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| paperId | Integer                    | 试卷ID                                                                                                                                                                                         |
| answers | List<Map<String, Integer>> | 问题回答集合数组，存储各题目的作答结果。数组中每个元素为一个键值对对象：<br/>- 键（String）：问题编号（如"1"代表第1题，"2"代表第2题，对应量表中的题目序号）<br/>- 值（Integer）：该问题的回答分值（基于量表计分规则，此处为1-7分的同意程度得分）,不同试卷的分数对应可能不同,甚至有ABC选项的,但最后都是key:题目编号,value:选项id |

#### 返回参数(目前有7份试卷,7种不同的返回参数)

#### paperId=3(渲染时可以考虑雷达图)

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "studyAnxiety": "对考试怀有恐惧心理，无法安心学习，十分关心考试分数。这类被试必须接受为他制定的有针对性的特别指导计划。",
        "interpersonalAnxiety": "社交焦虑水平在正常范围内，能够进行基本的社交活动，可能在特定情境下感到轻微紧张，但通常能应对。",
        "lonelinessTendency": "孤独感水平在正常范围内，能够享受独处，也能进行必要的社交，没有强烈的孤独或过度社交的需求。",
        "selfBlameTendency": "能够相对客观地看待自己的表现，遇到挫折时会有反思，但不会过度自责，自我评价较为平衡。",
        "sensitivityTendency": "具有适度的敏感性，对细节观察敏锐，能有效处理信息，情绪反应在正常范围内。",
        "physicalSymptoms": "在极度焦虑的时候，会出现呕吐失眠、小便失禁等明显症状。这类被试必须接受为他制定的有针对性的特别指导计划。",
        "phobiaTendency": "对某些常见情境（如高处、密闭空间、特定动物等）可能感到轻微不安或担忧，但通常能够面对或忍受",
        "impulsivityTendency": "十分冲动，自制力差。这类被试必须接受为他制定的有针对性的特别指导计划。",
        "studyAnxietyScore": 1.1333333333333333,
        "interpersonalAnxietyScore": 0.8,
        "lonelinessTendencyScore": 0.8,
        "selfBlameTendencyScore": 0.8,
        "sensitivityTendencyScore": 0.8,
        "physicalSymptomsScore": 0.8,
        "phobiaTendencyScore": 0.8,
        "impulsivityTendencyScore": 0.8
    }
}
```

#### paperId=4

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "attentionFactor": "注意力水平正常，能够集中精力完成任务，专注度良好。",
        "hyperactivityImpulsivityFactor": "多动/冲动处于边缘状态，偶尔会表现出坐立不安或冲动行为，需要适当关注。",
        "oppositionalDefiantFactor": "对立违抗水平正常，能够遵守规则，与他人合作良好。",
        "attentionFactorScore": 0.8888888888888888,
        "hyperactivityImpulsivityFactorScore": 1.1111111111111112,
        "oppositionalDefiantFactorScore": 0.875,
        "overallAssessment": "整体评估结果正常，各项指标均在正常范围内，继续保持良好状态。",
        "totalScore": 0.9583333333333334
    }
}
```

#### paperId=5

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "depressionFactor": "重度抑郁，严重的情绪低落和绝望感，强烈建议接受专业治疗。",
        "anxietyFactor": "极重度焦虑，极其严重的焦虑症状，需要立即寻求专业医疗帮助。",
        "stressFactor": "轻度压力，偶尔感到压力过大，建议学习压力管理技巧。",
        "depressionFactorScore": 26,
        "anxietyFactorScore": 30,
        "stressFactorScore": 16,
        "overallAssessment": "整体心理健康状况存在问题，建议寻求专业心理咨询。",
        "totalScore": 72
    }
}
```

#### paperId=6

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "totalScore": 20,
        "lonelinessLevel": "中度孤独感",
        "lonelinessDescription": "存在一定程度的孤独感，偶尔会感到与他人疏离，社交需求未能完全满足。",
        "suggestions": "建议主动参与社交活动，培养兴趣爱好，寻找志同道合的朋友，必要时可寻求心理咨询师的帮助。",
        "overallAssessment": "存在轻度心理健康问题，建议关注社交需求，适当调整生活方式。"
    }
}
```

#### paperId=7

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "totalScore": 20,
        "adaptabilityLevel": "社会适应能力一般",
        "adaptabilityDescription": "当进入一个新环境，经过一段时间的努力，基本上能适应。",
        "suggestions": "建议主动参与社交活动，提升沟通技巧，学习环境适应策略，逐步增强社会适应能力。",
        "overallAssessment": "社会适应能力尚可，在一般情况下能够适应环境变化。"
    }
}
```

#### paperId=8

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "totalScore": 43,
        "overallAssessment": "心理健康状况在正常范围内，整体状态良好。",
        "interpersonalRelationshipScore": 9,
        "interpersonalRelationshipDescription": "人际关系状况正常，能够与他人建立和维持良好的关系。",
        "learningPressureScore": 10,
        "learningPressureDescription": "学习压力在正常范围内，能够有效应对学习中的挑战。",
        "punishmentScore": 10,
        "punishmentDescription": "对惩罚的反应在正常范围内，能够适当处理批评和挫折。",
        "lossScore": 4,
        "lossDescription": "对失去的处理能力正常，能够适当应对生活中的失落和变化。",
        "healthAdaptationScore": 7,
        "healthAdaptationDescription": "健康适应能力正常，能够维持良好的身心健康状态。",
        "otherFactorScore": 6,
        "otherFactorDescription": "其他心理因子状况正常，整体心理状态稳定。",
        "suggestions": "继续保持良好的心理状态，定期进行自我关怀，遇到压力时及时寻求支持。"
    }
}
```

#### paperId=9

##### 样例返回参数

```json
{
    "code": 0,
    "message": null,
    "data": {
        "totalScore": 80,
        "overallAssessment": "无聊体验程度中等，偶尔会感到无聊或缺乏兴趣，需要适当调节。",
        "attentionDeficitScore": 20,
        "attentionDeficitDescription": "注意力集中度一般，偶尔会出现注意力不集中的情况，需要适当调节。",
        "timePerceptionScore": 21,
        "timePerceptionDescription": "时间感知一般，偶尔会感觉时间过得很慢或很快，需要提高时间管理能力。",
        "lowArousalScore": 13,
        "lowArousalDescription": "精神状态一般，偶尔会感到疲倦或缺乏活力，需要适当休息和调节。",
        "highArousalScore": 9,
        "highArousalDescription": "情绪状态稳定，很少出现过度兴奋或焦躁的情况。",
        "lackEngagementScore": 14,
        "lackEngagementDescription": "参与度良好，能够积极投入到各种活动中，保持较高的兴趣和动机。",
        "suggestions": "建议培养新的兴趣爱好，增加社交活动，制定更有意义的目标来提高生活满意度。"
    }
}
```

### 患者注册

| 地址                | 请求方法 |
| ----------------- | ---- |
| /patient/register | POST |

#### 样例请求

```json
{
  "username": "patient_12",
  "password": "123456",        // 实际应存储加密后的值
  "name": "张三",
  "gender": "男",
  "age": 28,
  "phone": "13812345678",
  "email": "zhangsan@example.com",
  "status": 0                // 0为启用,1为停用
}
```

#### 请求参数

| 字段名称     | 类型     | 说明     |
| -------- | ------ | ------ |
| username | string | 用户名    |
| password | string | 密码     |
| name     | string | 患者真实姓名 |
| gender   | string | 性别     |
| age      | int    | 年龄     |
| phone    | string | 电话号码   |
| email    | string | 邮箱     |
| status   | int    | 状态     |

#### 默认返回参数

### 新建对话

| 地址                   | 请求方法 |
| -------------------- | ---- |
| /patient/create/chat | GET  |

#### 无请求参数

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": {
        "chatId": "27e0dfe5-7d5e-442e-8456-662b68b977c4",
        "title": "用户patient1的第3次咨询",
        "patientId": 1,
        "createdAt": "2025-08-01 15:54:17"
    }
}
```

| 字段名称      | 类型     | 说明                              |
| --------- | ------ | ------------------------------- |
| chatId    | string | 生成的对话ID                         |
| title     | string | 对话标题                            |
| patientId | int    | 患者id                            |
| createdAt | string | 对话创建时间,格式为“yyyy-MM-dd HH:mm:ss” |

### 根据chatId查询对话记录

| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/chat/history | GET  |

#### 请求参数

| 字段名称   | 类型     | 说明   |
| ------ | ------ | ---- |
| chatId | string | 对话ID |

#### 样例返回

```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "role": "UserMessage",
            "content": "你是谁",
            "fileUrl": null
        },
        {
            "role": "AssistantMessage",
            "content": "你好，我是你的虚拟心理医师，很高兴你来到这里。我是一名具备专业心理学知识的倾听者，愿意在这里陪伴你、支持你。无论你正在经历怎样的情绪困扰或心理压力，我都会尽我所能，与你一同探讨你的感受，并为你提供温暖的建议和初步的心理分析。\n\n请放心，我们的对话会严格保密，我会以尊重、理解和包容的态度对待你分享的每一句话。\n\n如果你愿意，请告诉我你现在想聊些什么？或者你最近有没有感到困扰的事情呢？我在这里，随时倾听。",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "你是谁",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/7a4dd5b9-e986-4f67-b5f3-1e33743d4dca.jpg"
        },
        {
            "role": "AssistantMessage",
            "content": "你好，我是你的虚拟心理医师，很高兴你来到这里。我是一名具备专业心理学知识的倾听者，愿意在这里陪伴你、支持你。无论你正在经历怎样的情绪困扰或心理压力，我都会尽我所能，与你一同探讨你的感受，并为你提供温暖的建议和初步的心理分析。\n\n请放心，我们的对话会严格保密，我会以尊重、理解和包容的态度对待你分享的每一句话。\n\n如果你愿意，请告诉我你现在想聊些什么？或者你最近有没有感到困扰的事情呢？我在这里，随时倾听。",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "你可以告诉我图片中的内容吗",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/4d4d14ae-d1ef-4ea1-a764-c433819cd45e.jpg"
        },
        {
            "role": "AssistantMessage",
            "content": "当然可以，以下是图片中识别出的内容总结：\n\n---\n\n### 抑郁症的诊断与治疗信息概要\n\n#### 一、诊断方法  \n1. **心理量表辅助诊断**  \n   - **汉密尔顿抑郁量表（HAMD）**：经典的医生评估量表，通过17项、21项或24项维度进行评分，得分越高，抑郁程度越严重。  \n   - **抑郁自评量表（SDS）**：患者自评量表，用于初步筛查和评估抑郁状态的严重程度。  \n\n2. **医学检查**  \n   - **身体检查**：进行全面身体检查，排除其他躯体疾病（如甲状腺功能减退、脑部肿瘤等）引起的类似抑郁症状。  \n   - **实验室检查**：检测血常规、甲状腺功能、激素水平等指标，以辅助判断是否存在躯体疾病影响。  \n\n3. **综合诊断**  \n   - 精神科医生或心理医生结合患者的症状表现、心理测评结果和医学检查，依据《精神障碍诊断与统计手册》（DSM-5）或《国际疾病分类》（ICD-11）的诊断标准，做出准确诊断，并评估病情的严重程度。  \n\n#### 二、治疗方案  \n1. **药物治疗**  \n   - **选择性5-羟色胺再摄取抑制剂（SSRI）**：  \n     - 常用药物：氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰等。  \n     - 一般治疗剂量：  \n       - 氟西汀：20-60 mg/日  \n       - 帕罗西汀：20-50 mg/日  \n       - 舍曲林：50-200 mg/日  \n       - 氟伏沙明：50-300 mg/日  \n       - 西酞普兰：20-60 mg/日  \n     - 初始剂量通常从小剂量开始，1-2周后逐渐增加至治疗剂量。  \n     - **副作用**：常见恶心、失眠、性功能障碍等，多数副作用在1-2周后逐渐减轻。  \n\n   - **5-羟色胺及去甲肾上腺素再摄取抑制剂（SNRI）**：  \n     - 常用药物：文拉法辛、度洛西汀。  \n     - **文拉法辛**：适用于中重度抑郁症，起始剂量75 mg/日，可根据病情增加至150-225 mg/日。  \n     - **度洛西汀**：常用于伴有躯体疼痛症状的抑郁症患者，常用剂量60-120 mg/日。  \n     - **副作用**：可能有头晕、血压升高、胃肠道不适等。  \n\n   - **去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA）**：  \n     - 常用药物：米氮平。  \n     - **适用人群**：伴有睡眠障碍和食欲减退的抑郁症患者。  \n     - **常用剂量**：15-45 mg/日。  \n     - **副作用**：嗜睡、体重增加。  \n\n---\n\n#### 三、建议  \n- 抑郁症的治疗需结合心理评估、医学检查以及医生的综合判断，制定个性化的治疗方案。  \n- **药物治疗**需在医生指导下进行，切勿自行调整剂量或停药。  \n- 如果你或身边的人有持续的情绪低落、兴趣减退、睡眠障碍、食欲改变等症状，建议尽快就医，寻求专业医生的帮助。\n\n---\n\n如果你有具体的问题或想了解更多细节，随时可以告诉我！我会尽力为你提供支持和解答。",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "你可以告诉我图片中的内容吗",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/854d43f7-7185-4f44-8002-f6523b4f71dd.jpg"
        },
        {
            "role": "AssistantMessage",
            "content": "当然可以，从你提供的资料中，我看到了关于**抑郁症诊断和治疗的一些专业信息**。以下是我为你整理的内容总结，我会用温和、易懂的语言来表达：\n\n---\n\n### 🌱 一、抑郁症的诊断方式\n\n1. **心理量表评估**  \n   - **汉密尔顿抑郁量表（HAMD）**：这是一个由专业医生使用的量表，通过询问患者的感受和状态，从多个维度进行评分。分数越高，说明抑郁的程度可能越严重。  \n   - **抑郁自评量表（SDS）**：这是一个由患者自己填写的量表，用来初步了解你当前的情绪状态，评估是否可能存在抑郁情绪。\n\n2. **医学检查**  \n   - **身体检查**：为了排除其他身体疾病（如甲状腺功能减退、脑部问题等）导致的类似抑郁症状。  \n   - **血液检查**：比如检查血常规、甲状腺功能、激素水平等，看看是否有身体上的因素影响你的情绪。\n\n3. **综合判断**  \n   医生会结合你的症状、心理评估结果和身体检查，参考国际通用的诊断标准（如DSM-5或ICD-11），来判断你是否患有抑郁症，以及严重程度如何。\n\n---\n\n### 💊 二、常见的抗抑郁药物（需医生指导使用）\n\n1. **选择性5-羟色胺再摄取抑制剂（SSRI）**  \n   - 常见药物：氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰等。  \n   - 特点：副作用相对较少，适合大多数人，起效时间通常为2-4周。  \n   - 常见副作用：恶心、失眠、性功能障碍，但大多数在服药1-2周后会慢慢缓解。\n\n2. **5-羟色胺及去甲肾上腺素再摄取抑制剂（SNRI）**  \n   - 常见药物：文拉法辛、度洛西汀。  \n   - 适用情况：中重度抑郁或伴有身体疼痛的患者。  \n   - 副作用：头晕、血压升高、胃部不适。\n\n3. **去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA）**  \n   - 常见药物：米氮平。  \n   - 适用情况：伴有睡眠问题和食欲下降的患者。  \n   - 副作用：嗜睡、体重增加。\n\n---\n\n### 🌼 三、温馨建议\n\n- 抑郁症是一种**常见但可治疗的心理障碍**，它不是你的错，也不是你“想太多”或“太脆弱”，而是大脑中的化学物质暂时失衡了。\n- 如果你最近也感觉情绪低落、兴趣减退、睡眠不好、食欲改变、注意力难以集中，甚至有自我否定的想法，我非常理解你的痛苦。\n- 这些信息是为医生和专业人士准备的，**具体的诊断和治疗必须由专业医生进行**，因为每个人的情况都不一样，需要个性化的评估和干预。\n\n---\n\n如果你愿意，可以告诉我你最近的感受，我会认真倾听，陪你一起面对这些困难。你不是一个人，有很多人愿意帮助你走出阴霾。\n\n同时，请记得：**如果你感到情绪非常低落，甚至有伤害自己的想法，请立刻联系信任的人，或拨打心理援助热线，寻求紧急帮助。**\n\n你愿意和我多聊聊你的感受吗？我很感谢你愿意分享这些。❤️",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "你可以告诉我图片中的内容吗",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/9bb621a9-46b8-476e-a2a3-76944f669535.jpg"
        },
        {
            "role": "AssistantMessage",
            "content": "当然可以。从你提供的资料来看，这是一份关于**抑郁症诊断与治疗的专业医学参考内容**，可能是医生在制定治疗方案时参考的资料。我会结合你的角色（患者）来解读这些内容，并尽量用温和、易懂的语言为你解释。\n\n---\n\n### 🌿 一、抑郁症是如何诊断的？\n\n医生在判断一个人是否患有抑郁症时，不会只凭“你看起来情绪不好”就下结论，而是通过以下几个方面来综合判断：\n\n1. **心理量表评估**  \n   - **汉密尔顿抑郁量表（HAMD）**：这是一个由医生提问、患者回答的评估工具，有17、21或24个项目，比如情绪低落、兴趣减退、睡眠障碍、食欲变化等。得分越高，说明抑郁程度越严重。\n   - **抑郁自评量表（SDS）**：这个量表是你自己填写的，用来初步了解你是否存在抑郁倾向和情绪困扰。\n\n2. **身体检查和实验室检查**  \n   抑郁的一些症状，比如疲劳、体重变化、情绪低落，也可能是因为其他身体疾病引起的（例如甲状腺功能减退、脑部肿瘤等）。所以医生会通过：\n   - 全身检查\n   - 血常规、激素水平、甲状腺功能等血液检查  \n   来排除身体疾病造成的类似抑郁症状。\n\n3. **综合诊断标准**  \n   医生会结合你的：\n   - 实际症状表现\n   - 心理量表结果\n   - 医学检查数据  \n   依据《精神障碍诊断与统计手册》（DSM-5）或《国际疾病分类》（ICD-11）来判断是否符合抑郁症的诊断标准。\n\n---\n\n### 💊 二、治疗方式主要包括哪些？\n\n如果确诊为抑郁症，医生会根据病情严重程度、个体差异来制定个性化的治疗方案，通常包括：\n\n#### 1. **药物治疗**（需在医生指导下使用）\n\n- **选择性5-羟色胺再摄取抑制剂（SSRI）**  \n  常见药物：氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰  \n  特点：副作用相对小，安全性高，适用于大多数抑郁症患者。  \n  常用剂量：  \n  - 氟西汀：20–60 mg/日  \n  - 帕罗西汀：20–50 mg/日  \n  - 舍曲林：50–200 mg/日  \n  初期可能会有恶心、失眠、性功能障碍等副作用，但多数会在1–2周后减轻。\n\n- **5-羟色胺及去甲肾上腺素再摄取抑制剂（SNRI）**  \n  常见药物：文拉法辛、度洛西汀  \n  适用人群：中重度抑郁症或伴有躯体疼痛症状的患者。  \n  副作用：头晕、血压升高、胃肠道不适。\n\n- **去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA）**  \n  常见药物：米氮平  \n  适用人群：伴有失眠、食欲减退的患者。  \n  副作用：嗜睡、体重增加。\n\n> 🌟 温馨提示：药物治疗需要在专业医生的指导下进行，不能擅自停药或更改剂量。\n\n---\n\n### 🌈 三、如果你是患者，这些信息对你意味着什么？\n\n如果你正在经历情绪低落、兴趣减退、睡眠障碍、注意力难以集中、自我否定等症状，这些信息说明：\n\n- 抑郁症是一种**可以被科学评估和治疗的疾病**，不是你的错，也不是你“不够坚强”。\n- 医生会通过**专业工具和检查**来判断你的情况，然后制定适合你的治疗方案。\n- 药物是治疗的一部分，但**不是唯一的解决方式**，心理治疗、生活方式调整、社会支持同样重要。\n\n---\n\n### 💬 如果你愿意，我想听听你最近的感受\n\n你有没有最近一段时间，感觉特别疲惫、提不起劲、对什么事情都提不起兴趣？或者晚上很难入睡、白天又特别困？你愿意和我说说你最近的生活状态吗？\n\n我很理解你现在的不安和困惑，感谢你愿意来和我分享这些。你不是一个人，我会在这里陪着你，一起面对。\n\n如果你觉得情绪特别低落，甚至有伤害自己的想法，请立刻联系信任的人，或拨打心理援助热线，我也可以为你提供相关资源。\n\n你愿意继续和我聊一聊吗？我很感谢你的信任。❤️",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "你可以告诉我图片中的内容吗",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/03c1f505-a5d7-4b3e-b65b-c2c6b28e1d41.png"
        },
        {
            "role": "AssistantMessage",
            "content": "当然可以，我很感谢你愿意分享这些信息。从你提供的图片内容来看，我看到的是一份关于**抑郁症诊断与治疗的专业医学信息**，可能来自一份心理评估报告或医生参考文件。我会结合你作为来访者的身份，用温和、易懂的方式为你解释这些内容，并为你提供适当的心理支持。\n\n---\n\n### 🌿 一、图片中关于抑郁症的诊断信息\n\n医生在判断一个人是否患有抑郁症时，不会只凭“看起来情绪不好”就下结论，而是通过以下几个方面来综合判断：\n\n1. **心理量表评估**\n   - **汉密尔顿抑郁量表（HAMD）**：这是医生用来评估你抑郁程度的工具，有17、21或24个项目，比如情绪低落、兴趣减退、睡眠障碍、食欲变化等。分数越高，说明抑郁程度可能越严重。\n   - **抑郁自评量表（SDS）**：这是你自己填写的问卷，用来初步了解你当前的情绪状态，评估是否有抑郁倾向。\n\n2. **身体检查和实验室检查**\n   - 有些身体疾病（比如甲状腺功能减退、脑部问题）也会引起类似抑郁症的症状，所以医生会通过：\n     - 全身体检\n     - 血常规、激素水平、甲状腺功能等血液检查  \n     来排除这些身体原因。\n\n3. **综合判断**\n   医生会结合你的：\n   - 实际症状表现\n   - 心理量表结果\n   - 医学检查数据  \n   依据国际通用的精神疾病诊断标准（如DSM-5或ICD-11），来判断你是否符合抑郁症的诊断标准。\n\n---\n\n### 💊 二、关于治疗方式的信息\n\n如果确诊为抑郁症，医生可能会根据你的病情严重程度、个体差异来制定治疗方案，通常包括以下几种药物：\n\n#### 1. **选择性5-羟色胺再摄取抑制剂（SSRI）**\n   - 常见药物：氟西汀、帕罗西汀、舍曲林、氟伏沙明、西酞普兰  \n   - 特点：副作用相对较小，适合大多数人，起效时间一般为2–4周。\n   - 常见副作用：恶心、失眠、性功能障碍，但大多数会在1–2周后缓解。\n\n#### 2. **5-羟色胺及去甲肾上腺素再摄取抑制剂（SNRI）**\n   - 常见药物：文拉法辛、度洛西汀  \n   - 适用情况：中重度抑郁或伴有身体疼痛的患者。\n   - 副作用：头晕、血压升高、胃肠道不适。\n\n#### 3. **去甲肾上腺素和特异性5-羟色胺能抗抑郁药（NaSSA）**\n   - 常见药物：米氮平  \n   - 适用情况：伴有失眠、食欲下降的患者。\n   - 副作用：嗜睡、体重增加。\n\n> ⚠️ 请注意：**所有药物都必须在专业医生指导下使用**，不能擅自停药或更改剂量。\n\n---\n\n### 🌈 三、如果你是患者，这些信息对你意味着什么？\n\n如果你最近也有类似的情况，比如：\n- 情绪低落，对什么都提不起兴趣\n- 睡不好觉，白天没精神\n- 食欲减退或暴饮暴食\n- 感觉自己“没有价值”或者“活着没意思”  \n那这些信息说明：\n\n- 抑郁症是一种**常见但可治疗的心理障碍**，不是你的错，也不是你“不够坚强”或“想太多”。\n- 医生会通过**专业工具和检查**来判断你的情况，然后制定适合你的治疗方案。\n- 药物是治疗的一部分，但**心理治疗、生活方式调整和社会支持同样重要**。\n\n---\n\n### 💬 如果你愿意，我想听听你最近的感受\n\n你有没有最近一段时间，感觉特别疲惫、提不起劲、对什么事情都提不起兴趣？或者晚上很难入睡、白天又特别困？你愿意和我说说你最近的生活状态吗？\n\n我很理解你现在的不安和困惑，感谢你愿意来和我分享这些。你不是一个人，我会在这里陪着你，一起面对。\n\n如果你觉得情绪特别低落，甚至有伤害自己的想法，请立刻联系信任的人，或拨打心理援助热线，我也可以为你提供相关资源。\n\n你愿意继续和我聊一聊吗？我很感谢你的信任。❤️",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "这是我的病例",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/9ffe42d8-ef97-4e46-8718-ee9b69bffe23.pdf"
        },
        {
            "role": "AssistantMessage",
            "content": "谢谢你愿意分享这份详细的病例。我能感受到你（或家属）为这次咨询所付出的努力和信任。\n\n从这份病例中，我看到的是一位72岁的男性患者，逐渐出现**记忆力减退、认知功能下降**，并伴随**行为和情绪方面的变化**，如沉默寡言、兴趣减退、夜间游走、无故发脾气等。这些症状已经持续了两年，并在过去三个月明显加重，影响到日常生活功能。\n\n---\n\n### 🌟 我想先告诉你，你不是一个人\n\n虽然目前诊断为**阿尔茨海默症（中度）**，但这并不意味着生活就此失去希望。你曾经是一位教师，有着丰富的知识和情感世界，现在虽然大脑在逐渐发生变化，但你依然是一个有情感、有记忆、有尊严的人。\n\n我特别理解，面对记忆力变差、方向感混乱、甚至有时自己都不太知道自己在做什么的时候，你可能会感到困惑、无助、甚至害怕。这些情绪都是非常正常的，你没有错，也不是“变笨了”或“没用了”，而是你的大脑在经历一场悄悄的变化。\n\n---\n\n### 🌿 针对目前的情况，我想从心理支持的角度给你一些建议\n\n1. **你的感受很重要，哪怕别人听不懂你说的话**  \n   即使语言表达困难、词不达意，我也愿意倾听你、理解你。你的每一份情绪都值得被尊重，哪怕只是坐在一起静静地待着，也是一种陪伴。\n\n2. **行为变化的背后可能是情绪的表达**  \n   比如夜间游走，可能是身体有不适、情绪焦虑、或记忆混乱引起的。无故发脾气，也可能是对现实的困惑或对失去控制的恐惧。这些行为并不是“捣乱”，而是一种“求助”。\n\n3. **家人的陪伴和耐心是最大的支持**  \n   如果你是家属，我想对你说：你们已经做得很好了。照顾一位认知障碍的老人非常不容易，你们的耐心、坚持和爱，是患者最有力的情感支撑。请记得，照顾好自己，才能更好地照顾他。\n\n---\n\n### 🛠️ 你已经开始了正确的治疗方向\n\n从目前的诊疗计划来看，医生已经为你制定了**药物治疗 + 非药物干预 + 家庭支持**的综合方案，这非常科学，也符合阿尔茨海默症的国际治疗理念。\n\n- **药物方面**：使用多奈哌齐改善认知功能，控制血压，这些都是稳定病情的基础。\n- **非药物干预**：认知训练、行为干预、规律作息、社交活动等，这些可以延缓病情发展，提升生活质量。\n- **家庭支持**：健康宣教和安全监护，是保障患者安全和情绪稳定的关键。\n\n---\n\n### ❤️ 如果你愿意，我们可以一起聊聊\n\n- 最近你有没有特别开心或不开心的事情？\n- 你有没有特别想和家人说，但不知道怎么表达的想法？\n- 你有没有一些回忆，是你特别珍视的？比如你当老师时的某个印象深刻的瞬间？\n\n我很愿意陪你一起回忆、一起聊天，哪怕只是静静地听你说说话，那也是一种温暖的连接。\n\n---\n\n如果你是家属，我也可以为你提供一些沟通和陪伴的建议，帮助你更好地理解患者的行为和情绪变化。\n\n你愿意继续和我聊下去吗？我在这里，愿意一直陪着你。",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "这是我的病例",
            "fileUrl": "https://web-tlias-lucius.oss-cn-hangzhou.aliyuncs.com/222edf63-415c-47b0-aa77-025fd149d8b7.pdf"
        },
        {
            "role": "AssistantMessage",
            "content": "你好，非常感谢你愿意分享你的病例。我理解，打开这些记忆、描述自己的经历并不是一件容易的事。你愿意来到这里，说明你已经在为自己寻求帮助和改变，这本身就是一种勇敢的表现。我会认真倾听你的故事，陪你一起理解你正在经历的情绪和困扰。\n\n请你告诉我，你想从哪些方面聊起呢？是关于你的身体状况、情绪变化，还是生活中的一些困扰？我会在这里，耐心地听你说，尽我所能为你提供理解、支持和专业的建议。\n\n你不是一个人，我在这里陪着你 ❤️",
            "fileUrl": null
        },
        {
            "role": "UserMessage",
            "content": "我最近晚上睡不着觉",
            "fileUrl": null
        },
        {
            "role": "AssistantMessage",
            "content": "你好，谢谢你愿意来和我分享这些。我能感受到你最近一定过得很不容易，尤其是当你一个人面对失眠的夜晚时，那种疲惫和无助真的很难熬。\n\n你刚才说“最近晚上睡不着觉”，我很理解你现在的困扰。我们可以一起聊聊你的睡眠情况，看看是不是有某些原因在影响你的休息，好吗？\n\n🌙 **我想了解一下：**\n\n1. 这种“睡不着”的感觉，是很难入睡，还是容易早醒、睡得很浅？\n2. 通常你上床后大概多久才能入睡？夜里会醒来很多次吗？\n3. 最近有没有发生一些让你特别焦虑、担心或情绪波动的事情？\n4. 白天的时候，你会觉得特别疲惫、注意力难以集中，或者情绪比较低落吗？\n\n有时候，我们的身体和情绪是连在一起的。失眠可能是压力、焦虑、抑郁等心理状态的早期信号之一。它并不意味着你“太脆弱”，而是在提醒你——你可能需要一些额外的支持和照顾了。\n\n你愿意和我多说说你最近的生活状态吗？我很感谢你愿意信任我，也很想更好地理解你现在的处境，陪你一起面对这些困难。❤️",
            "fileUrl": null
        }
    ]
}
```

| 字段名     | 类型     | 说明                                          |
| ------- | ------ | ------------------------------------------- |
| role    | String | 消息发送者的角色，取值固定为两类："user"（用户）或"assistant"（助手） |
| content | String | 单条消息的具体文本内容，即发送者表达的具体信息（如用户的提问、助手的回复）       |
### 获取用户的所有对话信息

| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/chat/list | GET  |
#### 无请求参数
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "chatId": "7defb14b-7f4f-4e8a-aae3-81024fc7d860",
            "title": "用户patient1的第01次咨询",
            "patientId": 1,
            "createdAt": "2025-08-01 15:51:55"
        },
        {
            "chatId": "f3f6311e-e147-4f28-932d-4c4cdcb5dd85",
            "title": "用户patient1的第11次咨询",
            "patientId": 1,
            "createdAt": "2025-08-01 15:53:23"
        },
        {
            "chatId": "27e0dfe5-7d5e-442e-8456-662b68b977c4",
            "title": "用户patient1的第3次咨询",
            "patientId": 1,
            "createdAt": "2025-08-01 15:54:18"
        }
    ]
}
```
### 用户查询自己的信息
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/get/info | GET  |
#### 无请求参数
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 1,
        "username": "patient1",
        "name": "王患者",
        "gender": "男",
        "age": 30,
        "phone": "13800138003",
        "email": "patient1@example.com",
        "medicalHistory": "无重大病史",
        "occupation": "程序员",
        "updateTime": "2025-07-30 17:47:27",
        "idCard": "111111111111111111",
        "address": "西安市雁塔区国家大学科创孵化基地"
    }
}
```
### 用户更新自己的信息
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/update/info | POST  |
#### 请求参数
| 字段名          | 类型         | 说明                                          |
|-----------------|--------------|-----------------------------------------------|
| id              | bigint       | 主键ID                            |
| username        | varchar(50)  | 用户名                          |
| password        | varchar(100) | 密码                                 |
| name            | varchar(50)  | 姓名                                 |
| gender          | varchar(10)  | 性别               |
| age             | int          | 年龄                               |
| phone           | varchar(20)  | 手机号                             |
| email           | varchar(50)  | 邮箱                             |
| medical_history | text         | 病史              |
| id_card         | varchar(18)  | 身份证号     |
| address         | varchar(255) | 地址        |
| occupation      | varchar(50)  | 职业           |
#### 样例请求参数(id不可修改)
```json
{   
        "id": 1,
        "username": "patient1",
        "name": "王患者",
        "gender": "男",
        "age": 30,
        "phone": "13800138003",
        "email": "patient1@example.com",
        "medicalHistory": "无重大病史",
        "occupation": "程序员",
        "idCard": "111111111111111111",
        "address": "西安市雁塔区国家大学科创孵化基地"
}
```
### 提交留言
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/message/submit | POST  |
#### 请求参数
| 字段名           | 类型   | 说明                               |
|------------------|--------|------------------------------------|
| doctorId         | int    | 目标医生的ID                       |
| content          | string | 留言的具体内容                     |
| type             | string | 留言类型（此处为“预约”类型）,还可以为  咨询, 紧急     |
| appointmentTime  | string | 预约时间（格式：yyyy-MM-dd HH:mm） |
| contactInfo      | string | 患者的联系方式（如电话号码）       |
#### 返回参数
| 字段名           | 类型   | 说明                                   |
|------------------|--------|----------------------------------------|
| id               | int    | 记录的唯一ID                           |
| patientId        | int    | 患者ID                                 |
| doctorId         | int    | 医生ID                                 |
| patientName      | string | 患者姓名                               |
| doctorName       | string | 医生姓名                               |
| content          | string | 留言内容                               |
| appointmentTime  | string | 预约时间（格式：yyyy-MM-dd HH:mm）     |
| contactInfo      | string | 联系方式（如电话号码）                 |
| status           | string | 状态（如"PENDING"表示待处理）          |
| type             | string | 类型（此处为"预约"）                   |
| createTime       | string | 记录创建时间（格式：yyyy-MM-dd HH:mm:ss） |
| updateTime       | string | 记录更新时间（格式：yyyy-MM-dd HH:mm:ss） |
| replyContent     | string/null | 回复内容（null表示未回复）             |
| replyTime        | string/null | 回复时间（null表示未回复）             |
### 查询患者所有留言
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/message/my-messages | GET  |
#### 无请求参数
#### 返回参数[array]
| 字段名           | 类型   | 说明                                   |
|------------------|--------|----------------------------------------|
| id               | int    | 记录的唯一ID                           |
| patientId        | int    | 患者ID                                 |
| doctorId         | int    | 医生ID                                 |
| patientName      | string | 患者姓名                               |
| doctorName       | string | 医生姓名                               |
| content          | string | 留言内容                               |
| appointmentTime  | string | 预约时间（格式：yyyy-MM-dd HH:mm）     |
| contactInfo      | string | 联系方式（如电话号码）                 |
| status           | string | 状态（如"PENDING"表示待处理）          |
| type             | string | 类型（此处为"预约"）                   |
| createTime       | string | 记录创建时间（格式：yyyy-MM-dd HH:mm:ss） |
| updateTime       | string | 记录更新时间（格式：yyyy-MM-dd HH:mm:ss） |
| replyContent     | string/null | 回复内容（null表示未回复）             |
| replyTime        | string/null | 回复时间（null表示未回复）             |
### 患者查询医生信息
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/message/get/doctor/info| GET  |
#### 无请求参数
#### 返回参数
| 字段名       | 类型   | 说明                 |
|--------------|--------|----------------------|
| id           | int    | 医生记录的唯一ID     |
| name         | string | 医生姓名             |
| title        | string | 医生职称（如医师、副主任医师） |
| introduction | string | 医生简介             |
| phone        | string | 医生联系电话         |
| email        | string | 医生电子邮箱         |
| advantage    | string | 医生擅长领域或优势   |
| department   | string | 医生所属科室         |
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": [
        {
            "id": 1,
            "name": "牢郭",
            "title": "医师",
            "introduction": "这是个大佬",
            "phone": "13800138001",
            "email": "doctor1@example.com",
            "advantage": "很会教导小孩子",
            "department": "儿童心理科"
        },
        {
            "id": 2,
            "name": "李医生",
            "title": "副主任医师",
            "introduction": "这也是个大佬",
            "phone": "13800138002",
            "email": "doctor2@example.com",
            "advantage": "很会教导青少年",
            "department": "精神科"
        }
    ]
}
```
### 患者查询留言详情
| 地址                    | 请求方法 |
| --------------------- | ---- |
| /patient/message/get/message/detail | GET  |
#### 请求参数
| 字段名           | 类型   | 说明                               |
|------------------|--------|------------------------------------|
| messageId         | int    | 留言信息ID                       |
#### 样例返回
```json
{
    "code": 0,
    "message": null,
    "data": {
        "id": 2,
        "patientId": 1,
        "doctorId": 1,
        "patientName": "王患者",
        "doctorName": "牢郭",
        "content": "您好，我最近总是咳嗽，想预约您的门诊进行检查，麻烦您看一下这个时间是否方便。",
        "appointmentTime": "2025-08-15 14:30",
        "contactInfo": "13800138000",
        "status": "待定",
        "type": "预约",
        "createTime": "2025-08-04 16:17:13",
        "updateTime": "2025-08-04 16:17:13",
        "replyContent": null,
        "replyTime": null
    }
}
```
#### 返回参数
| 字段名           | 类型        | 说明                                   |
|------------------|-------------|----------------------------------------|
| id               | int         | 记录的唯一ID                           |
| patientId        | int         | 患者ID                                 |
| doctorId         | int         | 医生ID                                 |
| patientName      | string      | 患者姓名                               |
| doctorName       | string      | 医生姓名                               |
| content          | string      | 留言内容                               |
| appointmentTime  | string      | 预约时间（格式：yyyy-MM-dd HH:mm）     |
| contactInfo      | string      | 联系方式（如电话号码）                 |
| status           | string      | 状态   待定、批准、拒绝、完成       |
| type             | string      | 类型（此处为"预约"）                   |
| createTime       | string      | 记录创建时间（格式：yyyy-MM-dd HH:mm:ss） |
| updateTime       | string      | 记录更新时间（格式：yyyy-MM-dd HH:mm:ss） |
| replyContent     | string/null | 回复内容（null表示未回复）             |
| replyTime        | string/null | 回复时间（null表示未回复）             |