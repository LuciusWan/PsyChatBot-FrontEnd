# 401错误自动跳转功能说明

## 功能概述
当API请求返回401状态码（未授权）时，系统会自动执行以下操作：
1. 显示"登录已过期，请重新登录"的错误提示
2. 清除本地存储的token
3. 自动跳转到登录页面

## 实现位置
- **文件**: `src/utils/request.js`
- **位置**: HTTP响应拦截器中的错误处理逻辑

## 核心代码
```javascript
case 401:
  ElMessage.error('登录已过期，请重新登录')
  // 清除本地token
  removeToken()
  // 避免在登录页面重复跳转
  if (router.currentRoute.value.path !== '/login') {
    router.push('/login')
  }
  break
```

## 功能特点
- ✅ **自动清理**: 自动清除过期的token
- ✅ **用户友好**: 显示明确的错误提示信息
- ✅ **防重复跳转**: 避免在登录页面时重复跳转
- ✅ **全局处理**: 所有API请求的401错误都会被统一处理

## 触发场景
1. **Token过期**: 用户长时间未操作，token自然过期
2. **Token无效**: 服务器端token验证失败
3. **权限变更**: 用户权限被管理员修改
4. **服务器重启**: 服务器重启导致session失效

## 用户体验
1. 用户在任何页面进行操作时，如果遇到401错误
2. 系统会显示友好的提示信息
3. 自动跳转到登录页面
4. 用户可以重新登录继续使用系统

## 测试方法
1. 登录系统后，手动删除浏览器中的token
2. 或者等待token过期
3. 执行任何需要认证的操作（如查看工作台数据）
4. 观察是否自动跳转到登录页面

## 注意事项
- 跳转前会检查当前路由，避免在登录页面重复跳转
- 错误信息使用Element Plus的消息组件显示
- 清除token使用统一的auth工具函数